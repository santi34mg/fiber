
contract Node {
   function get_next(self) Self;
}

@codegen(
    _T,
    type LinkedList = (
        'head unique &_T
    )
)

type Dog = (
    'name string *
    'next unique &Dog
    ;
    Node {
        function get_next(self) Self {
            return deref self.next;
        }
    }
)

// Usage
function main() unit {
    let dog Dog = { name = "Juan", next = null };
    let dog_list LinkedList = {};
}
